#cloud-config

package_update: true
package_upgrade: true

runcmd:
  # Install Docker via official install script
  - curl -fsSL https://get.docker.com | sh

  # Enable and start Docker service
  - systemctl enable docker
  - systemctl start docker

  # Verify docker compose plugin is available
  - docker compose version

  # Create deployment directory
  - mkdir -p /opt/eurotax

  # Set MOTD
  - echo "========================================" > /etc/motd
  - echo "  Eurotax Dev Server" >> /etc/motd
  - echo "  Managed by Terraform + Cloud-Init" >> /etc/motd
  - echo "========================================" >> /etc/motd
